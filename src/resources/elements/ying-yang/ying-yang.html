<template>
    <require from="resources/value-converters/sorter-value-converter"></require>
    <div class="container"
         click.trigger="toggleAnimation()">
        <svg version="1.1"
             x="0px"
             y="0px"
             width="400px"
             height="400px"
             viewBox="0 0 400 400"
             enable-background="new 0 0 400 400"
             xml:space="preserve">
            <g repeat.for="group of 4"
               id="Layer_1_${group}">
                <path repeat.for="part of parts | sorter:'index':'ascending' & signal:'sorter-changed'"
                      data-listen-to-me="${($index == 2) && listenToMyTransitionEnd()}"
                      data-order.bind="$index"
                      class="${part.classNames} ${timingClass} ${(group == part.index) ? '' : 'aurelia-hide'} ${''}"
                      css="transform: rotate(${angle}deg); transition-duration: ${duration/1000 & oneTime}s;"
                      d="${part.d}"></path>
            </g>
        </svg>
    </div>

</template>