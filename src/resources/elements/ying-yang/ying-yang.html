<template>
    <require from="resources/value-converters/sorter-value-converter"></require>
    <require from="resources/elements/part/part"></require>
    <div class="container"
         click.trigger="rotate()">
        <svg version="1.1"
             x="0px"
             y="0px"
             width="400px"
             height="400px"
             viewBox="0 0 400 400"
             enable-background="new 0 0 400 400"
             xml:space="preserve">
            <g repeat.for="group of 4"
               id="${'Layer_' + group}">
                <svg repeat.for="part of $parent.parts & signal:'sorter-changed'"
                     x="0"
                     y="0">
                    <part class-names.bind="($parent.group == part.index) ? part.classNames : 'aurelia-hide' & signal:'sorter-changed'"
                          angle.bind="($index == part.index) ? angle : '' & signal:'sorter-changed'"
                          index.bind="($index == part.index) ? $index : '' & signal:'sorter-changed'"
                          timing-class="($index == part.index) ? timingClass : '' & signal:'sorter-changed'"
                          containerless></part>

                </svg>
            </g>
        </svg>
    </div>

</template>