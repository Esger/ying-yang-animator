{"version":3,"sources":["app.js","environment.js","main.js","resources/index.js","resources/value-converters/layer1-value-converter.js","resources/value-converters/layer2-value-converter.js","resources/value-converters/sorter-value-converter.js","resources/elements/ying-yang/ying-yang.js"],"names":["App","message","debug","testing","configure","Promise","config","longStackTraces","environment","warnings","wForgottenReturn","aurelia","use","standardConfiguration","feature","developmentLogging","plugin","start","then","setRoot","Layer1ValueConverter","toView","value","parts","slice","Layer2ValueConverter","SorterValueConverter","array","propertyName","direction","YingYangCustomElement","EventAggregator","Element","eventAggregator","element","_isTouch","_element","animate","_triggered","_cycleTime","_rotationTime","timingClass","duration","_stepCounter","angle","_done","paths","d","classNames","layer","id","_animationTypes","angles","_currentAnimationType","_handleTransitionEnd","_setLayers","attached","_start","detached","_removeTranitionEndLister","setIsTouch","_addTransitionEndListener","_transitionEndListener","document","addEventListener","setTimeout","removeEventListener","phase","layerOrder","stageSortOrders","layers","i","length","part","push","actions","toggleAnimation"],"mappings":"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","file":"app-bundle.js","sourcesContent":["import $ from 'jquery';\n\nexport class App {\n    constructor() {\n        this.message = 'Ying Yang!';\n    }\n}\n","export default {\n  debug: true,\n  testing: true\n};\n","import environment from './environment';\n\n//Configure Bluebird Promises.\nPromise.config({\n    longStackTraces: environment.debug,\n    warnings: {\n        wForgottenReturn: false\n    }\n});\n\nexport function configure(aurelia) {\n    aurelia.use\n        .standardConfiguration()\n        .feature('resources');\n\n    if (environment.debug) {\n        aurelia.use.developmentLogging();\n    }\n\n    if (environment.testing) {\n        aurelia.use.plugin('aurelia-testing');\n    }\n\n    aurelia.start().then(() => aurelia.setRoot());\n}\n","export function configure(config) {\n  //config.globalResources([]);\n}\n","export class Layer1ValueConverter {\n    toView(value) {\n        let parts = value.slice(0, 2);\n        return parts;\n    }\n}","export class Layer2ValueConverter {\n    toView(value) {\n        let parts = value.slice(-2);\n        return parts;\n    }\n}","export class SorterValueConverter {\n    toView(array, propertyName, direction) {\n\n        // console.log('sort: prop: ' + propertyName + \" direction: \" + direction); \n        return array.slice();\n        // let factor = direction === 'ascending' ? 1 : -1;\n        // let sortedArray = array.slice(0).sort((a, b) => {\n        //     return (a[propertyName] - b[propertyName]) * factor;\n        // });\n        // return sortedArray;\n    }\n} ","\nimport { inject } from 'aurelia-framework';\nimport { EventAggregator } from 'aurelia-event-aggregator';\n\n@inject(EventAggregator, Element)\nexport class YingYangCustomElement {\n\n    constructor(eventAggregator, element) {\n        this._isTouch = false;\n        this._element = element;\n        this.animate = true;\n        this._triggered = false;\n        this._cycleTime = 10000;\n        this._rotationTime = this._cycleTime / 2;\n        this.timingClass = 'ease-in';\n        this.duration = this._rotationTime / 2;\n        this._stepCounter = 0;\n        this.angle = 0;\n        this._done = true;\n        this.paths = [\n            \"M197.419,399.968C88.153,398.583,0,309.594,0,200C0,89.543,89.543,0,200,0c0.863,0,1.721,0.021,2.581,0.033 C256.616,1.401,300,45.634,300,100c0,55.229-44.771,100-100,100c-55.229,0-100,44.771-100,100 C100,354.365,143.383,398.599,197.419,399.968z M200,66.666c-18.226,0-33,14.774-33,33s14.774,33,33,33c18.227,0,33-14.774,33-33 S218.227,66.666,200,66.666z\",\n            \"M202.581,0.033C256.616,1.4,300,45.634,300,100c0,55.229-44.771, 100-100,100s-100,44.771-100,100 c0,54.365,43.383,98.6,97.419,99.968c0.86,0.011,1.718,0.032,2.581,0.032c110.457,0,200-89.543,200-200 C400,90.406,311.848,1.417,202.581,0.033z\"\n        ];\n        this.parts = [\n            {\n                d: this.paths[0].slice(),\n                classNames: 'part whiteLeft ',\n                layer: 0,\n                id: 0\n            },\n            {\n                d: this.paths[1].slice(),\n                classNames: 'part whiteRight ',\n                layer: 1,\n                id: 1\n            },\n            {\n                d: this.paths[0].slice(),\n                classNames: 'part blackLeft ',\n                layer: 2,\n                id: 2\n            },\n            {\n                d: this.paths[1].slice(),\n                classNames: 'part blackRight ',\n                layer: 3,\n                id: 3\n            },\n        ];\n        this._animationTypes = {\n            'rotate': {\n                'stageSortOrders': [\n                    [3, 1, 2, 0],\n                    [2, 0, 3, 1],\n                    [0, 2, 1, 3],\n                    [1, 3, 0, 2]\n                ],\n                'actions': () => {\n                    this._stepCounter++;\n                    this.timingClass = (this._stepCounter % 2 == 1) ? 'ease-in' : 'ease-out';\n                    this.angle = this._stepCounter * 180;\n                }\n            },\n            'backAndForth': {\n                'stageSortOrders': [\n                    [3, 1, 2, 0],\n                    [2, 0, 3, 1],\n                    [2, 0, 3, 1],\n                    [3, 1, 2, 0]\n                ],\n                'actions': () => {\n                    let angles = [0, 180, 360, 180];\n                    this._stepCounter++;\n                    this.timingClass = (this._stepCounter % 2 == 1) ? 'ease-in' : 'ease-out';\n                    this.angle = angles[this._stepCounter % 4];\n                }\n            }\n        };\n        this._currentAnimationType = 'backAndForth';\n        this._handleTransitionEnd = () => {\n            this._setLayers();\n        };\n    }\n\n    attached() {\n        this._start();\n    }\n\n    detached() {\n        this._removeTranitionEndLister();\n    }\n\n    setIsTouch() {\n        this._isTouch = true;\n    }\n\n    _start() {\n        this._addTransitionEndListener();\n        this._setLayers();\n    }\n\n    _addTransitionEndListener() {\n        this._transitionEndListener = document.addEventListener('transitionend', () => {\n            // only trigger handleTransitionEnd once\n            if (!this._triggered) {\n                this._triggered = true;\n                setTimeout(() => {\n                    this._triggered = false;\n                }, 500);\n                this._handleTransitionEnd();\n            }\n        });\n    }\n\n    _removeTranitionEndLister() {\n        if (this._transitionEndListener) {\n            document.removeEventListener('transitionend', this._handleTransitionEnd);\n        }\n    }\n\n    _setLayers() {\n        let phase = this._stepCounter % 4;\n        let layerOrder = this._animationTypes[this._currentAnimationType].stageSortOrders[phase];\n        let layers = [];\n        for (let i = 0; i < this.parts.length; i++) {\n            const part = this.parts[i];\n            part.layer = layerOrder[i];\n            layers.push(part.layer);\n        }\n        // console.table(layers);\n        setTimeout(() => {\n            this._animationTypes[this._currentAnimationType].actions();\n        });\n    }\n\n    toggleAnimation() {\n        this._removeTranitionEndLister();\n        this.animate = false;\n        this.angle = 0;\n        this._stepCounter = 0;\n        switch (this._currentAnimationType) {\n            case 'rotate':\n                this._currentAnimationType = 'backAndForth';\n                break;\n            case 'backAndForth':\n                this._currentAnimationType = 'rotate';\n                break;\n            default:\n                break;\n        }\n        setTimeout(() => {\n            this.animate = true;\n            // console.log(this._currentAnimationType);\n            this._start();\n        }, 500);\n    }\n\n}"],"sourceRoot":"../src"}