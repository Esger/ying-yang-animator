{"version":3,"sources":["app.js","environment.js","main.js","resources/index.js","resources/value-converters/layer1-value-converter.js","resources/value-converters/layer2-value-converter.js","resources/value-converters/sorter-value-converter.js","resources/elements/part/part.js","resources/elements/ying-yang/ying-yang.js"],"names":["App","debug","testing","configure","Promise","config","longStackTraces","environment","warnings","wForgottenReturn","aurelia","use","standardConfiguration","feature","developmentLogging","plugin","start","then","setRoot","Layer1ValueConverter","toView","value","parts","slice","Layer2ValueConverter","SorterValueConverter","array","propertyName","direction","PartCustomElement","Element","element","_element","attached","classList","classNames","split","pop","push","timingClass","join","type","index","console","log","detached","bindable","YingYangCustomElement","EventAggregator","BindingSignaler","eventAggregator","bindingSignaler","_bindingSignaler","animate","_cycleTime","_rotationTime","duration","angle","_stepCounter","_done","_stageSortOrders","handleTransitionEnd","window","requestAnimationFrame","rotate","id","document","addEventListener","removeEventListener","i","_restore","_backupParts","_setSortIndexes","sortOrder","length","part","signal","_animate"],"mappings":"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","file":"app-bundle.js","sourcesContent":["import $ from 'jquery';\n\nexport class App {\n    constructor() {\n    }\n}\n","export default {\n  debug: true,\n  testing: true\n};\n","import environment from './environment';\n\n//Configure Bluebird Promises.\nPromise.config({\n  longStackTraces: environment.debug,\n  warnings: {\n    wForgottenReturn: false\n  }\n});\n\nexport function configure(aurelia) {\n  aurelia.use\n    .standardConfiguration()\n    .feature('resources');\n\n  if (environment.debug) {\n    aurelia.use.developmentLogging();\n  }\n\n  if (environment.testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  aurelia.start().then(() => aurelia.setRoot());\n}\n","export function configure(config) {\n  //config.globalResources([]);\n}\n","export class Layer1ValueConverter {\n    toView(value) {\n        let parts = value.slice(0, 2);\n        return parts;\n    }\n}","export class Layer2ValueConverter {\n    toView(value) {\n        let parts = value.slice(-2);\n        return parts;\n    }\n}","export class SorterValueConverter {\n    toView(array, propertyName, direction) {\n\n        // console.log('sort: prop: ' + propertyName + \" direction: \" + direction);\n        if (array) {\n            return array.slice();\n            //     let factor = direction === 'ascending' ? 1 : -1;\n            //     let sortedArray = array.slice(0).sort((a, b) => {\n            //         return (a[propertyName] - b[propertyName]) * factor;\n            //     });\n            //     return sortedArray;\n        }\n    }\n} ","import { inject, bindable } from 'aurelia-framework';\n\n@inject(Element)\nexport class PartCustomElement {\n    @bindable angle;\n    @bindable classNames;\n    @bindable index;\n    @bindable timingClass;\n\n    constructor(element) {\n        this._element = element;\n    }\n\n    attached() {\n        if (this.classList) {\n            this.classList = this.classNames.split(' ').pop().push(this.timingClass).join(' ');\n        } else {\n            this.classList = this.classNames;\n        }\n        this.type = (this.index % 2) ? 'closed' : 'open';\n        console.log('attached', this.classList);\n    }\n\n    detached() {\n        console.log('detached');\n    }\n\n}\n","import { inject } from 'aurelia-framework';\nimport { BindingSignaler } from 'aurelia-templating-resources';\nimport { EventAggregator } from 'aurelia-event-aggregator';\nimport { computedFrom } from 'aurelia-framework';\n\n@inject(EventAggregator, BindingSignaler)\nexport class YingYangCustomElement {\n\n    constructor(eventAggregator, bindingSignaler) {\n        this._bindingSignaler = bindingSignaler;\n        this.animate = false;\n        this._cycleTime = 10000;\n        this._rotationTime = this._cycleTime / 2;\n        this.duration = this._rotationTime / 2;\n        this.angle = 0;\n        this.timingClass = 'ease-in';\n        this._stepCounter = 0;\n        this._done = true;\n        this._stageSortOrders = [\n            [0, 1, 2, 3],\n            [1, 3, 2, 0],\n            [2, 3, 0, 1],\n            [2, 0, 1, 3]\n        ];\n        this.handleTransitionEnd = e => {\n            if (this._done) { // twee events door twee segmenten\n                this._done = !this._done;\n                window.requestAnimationFrame(() => {\n                    this.rotate();\n                    this._done = !this._done;\n                });\n            }\n        };\n    }\n\n    attached() {\n        this.parts = [\n            {\n                classNames: 'part whiteLeft',\n                index: 0,\n                id: 0\n            },\n            {\n                classNames: 'part whiteRight ',\n                index: 1,\n                id: 1\n            },\n            {\n                classNames: 'part blackLeft ease-in',\n                index: 2,\n                id: 2\n            },\n            {\n                classNames: 'part blackRight ease-in',\n                index: 3,\n                id: 3\n            }\n        ];\n        document.addEventListener('transitionend', this.handleTransitionEnd);\n        console.log(this.parts);\n    }\n\n    detached() {\n        document.removeEventListener('transitionend', this.handleTransitionEnd);\n    }\n\n    type(i) {\n        return this.parts[i].type;\n    }\n\n    _restore() {\n        this.parts = this._backupParts.slice();\n    }\n\n    _setSortIndexes() {\n        let sortOrder = this._stageSortOrders[this._stepCounter % 4];\n        for (let i = 0; i < this.parts.length; i++) {\n            const part = this.parts[i];\n            part.index = sortOrder[part.id];\n        }\n        this._bindingSignaler.signal('sortOrder-changed');\n    }\n\n    rotate() {\n        this._animate = !this._animate;\n        this._bindingSignaler.signal('sortOrder-changed');\n        this._setSortIndexes();\n        if (this._animate) {\n            this._stepCounter++;\n            this.timingClass = (this._stepCounter % 2 == 1) ? 'ease-in' : 'ease-out';\n            this.angle = this._stepCounter * 180;\n            console.log(this._stepCounter, this.angle);\n        }\n    }\n\n}"],"sourceRoot":"../src"}